let popup=document.querySelector(".modal"),btnOpenPopup=document.querySelector(".button-feedback"),btnClosePopup=document.querySelector(".close-button"),popupName=document.querySelector("[name = name]"),popupMail=document.querySelector("[name = mail]"),isStorageSupport=!0,storageName="",storageMail="";try{storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("mail")}catch(e){isStorageSupport=!1}btnOpenPopup.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),popupName.focus(),storageName&&(popupName.value=storageName),storageMail&&(popupMail.value=storageMail)}),btnClosePopup.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show")}),document.addEventListener("keydown",function(e){"27"==e.keyCode&&(e.preventDefault(),popup.classList.remove("modal-show"))}),popup.addEventListener("submit",function(e){popupName.value&&popupMail.value?isStorageSupport&&(localStorage.setItem("name",popupName.value),localStorage.setItem("mail",popupMail.value)):e.preventDefault()});
